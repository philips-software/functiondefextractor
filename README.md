# Function Extractor

[![Build Status](https://travis-ci.com/philips-software/functiondefextractor.svg?branch=master)](https://travis-ci.com/philips-software/functiondefextractor)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![codecov](https://codecov.io/gh/philips-software/functiondefextractor/branch/master/graph/badge.svg)](https://codecov.io/gh/philips-software/functiondefextractor)

Tool to extract the function definitions from the source code

It can be used to extract functions from,

- C  

- C++

- C#  

- Java  

- Python

- TypeScript

- JavaScript

Advantage of using such function extractions are,

- Resolving technical debt  

- Identify function similarity  

- Identify pattern check (Supress warnings, Asset, etc...)
  
## Dependencies

- python 3.8 : 64 bit  

- python packages (xlrd, xlsxwriter, pandas)  

- third party packages [Ctags, grep]

## Installation
  
[INSTALL.md](INSTALL.md)

```sh
pip install functiondefextractor
```

## Usage & Configuration

### Option 1: To call from script

- General usage with out options. The below example script will return a dataframe
 which contains the extracted functions from the given repo/code.

```sh
from functiondefextractor import core_extractor
out_put = core_extractor.extractor (r"path_to_repo/code")
print(out_put)
```

### Commandline

- General usage with out options

```sh
>>>python -m functiondefextractor.extractor_cmd -p path/to/repo
```

- Help option can be found at,  

```sh
>>>python -m functiondefextractor.extractor_cmd -h
```

Note:

1.To use annotation based search feature, input annot and delta parameters
 (For example annot = "@Test", delta = "5") which returns a data frame
 containing + and - delta number of lines from the given annotation

2.If annotation is known completely (Ex: @SuppressWarnings(unused)) user
 can extract methods with given annotation with annotation based search
 feature by inputting annotation alone (not necessary to specify delta).
 (For example annot = "@SuppressWarnings(unused)")

3.To use condition checker feature to analyse patterns present in the code,
 input the excel file generated by the extractor and pattern condition.

```sh
>>>python -m functiondefextractor.extractor_cmd -e path/to/excelfile, "Assert"
```

This will return an excel file and pivot table html files which contain
 various assert patterns in the extracted code

### Code

```sh
from functiondefextractor import core_extractor
out_put = core_extractor.extractor (r"path_to_repo/code")
# Default value of arguments are annot=None, delta=None
print(out_put)
```

```sh
from functiondefextractor import core_extractor
out_put = core_extractor.extractor (r"path_to_repo/code, annot="@Test", delta="5")
print(out_put)
```

### Output
  
- Output will be available in same folder as input file  

## Contact

[MAINTAINERS.md](MAINTAINERS.md)  

## License

[License.md](LICENSE.md)
